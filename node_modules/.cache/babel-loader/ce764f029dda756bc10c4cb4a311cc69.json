{"ast":null,"code":"(function (g, f) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? f(exports, require('react'), require('uuid'), require('styled-components')) : typeof define === 'function' && define.amd ? define(['exports', 'react', 'uuid', 'styled-components'], f) : (g = typeof globalThis !== 'undefined' ? globalThis : g || self, f(g.AnimatedText = {}, g.React, g.uuid, g.styled));\n})(this, function (exports, React, uuid, styled) {\n  function ___$insertStyle(css) {\n    if (!css || typeof window === 'undefined') {\n      return;\n    }\n\n    const style = document.createElement('style');\n    style.setAttribute('type', 'text/css');\n    style.innerHTML = css;\n    document.head.appendChild(style);\n    return css;\n  }\n\n  function _interopDefaultLegacy(e) {\n    return e && typeof e === 'object' && 'default' in e ? e : {\n      'default': e\n    };\n  }\n\n  var React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\n  var styled__default = /*#__PURE__*/_interopDefaultLegacy(styled);\n  /*! *****************************************************************************\r\n  Copyright (c) Microsoft Corporation.\r\n  Permission to use, copy, modify, and/or distribute this software for any\r\n  purpose with or without fee is hereby granted.\r\n  THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n  PERFORMANCE OF THIS SOFTWARE.\r\n  ***************************************************************************** */\n\n\n  var __assign = function () {\n    __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n\n      return t;\n    };\n\n    return __assign.apply(this, arguments);\n  };\n\n  function __rest(s, e) {\n    var t = {};\n\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n    }\n    return t;\n  }\n\n  function __makeTemplateObject(cooked, raw) {\n    if (Object.defineProperty) {\n      Object.defineProperty(cooked, \"raw\", {\n        value: raw\n      });\n    } else {\n      cooked.raw = raw;\n    }\n\n    return cooked;\n  }\n\n  var splitChildrenToFragments = function (children) {\n    return children.toString().split(' ');\n  };\n\n  var concatFragments = function (children) {\n    var _a;\n\n    var splittedChildren = splitChildrenToFragments(children);\n    return (_a = []).concat.apply(_a, splittedChildren.map(function (word, index) {\n      return index !== 0 ? [WHITE_SPACE_CODE, word] : [word];\n    })).map(function (word) {\n      return word === ' ' ? WHITE_SPACE_CODE : word;\n    });\n  };\n\n  var AnimatedFragment = styled__default[\"default\"].span(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  position: relative;\\n  display: inline-block;\\n  visibility: hidden;\\n\"], [\"\\n  position: relative;\\n  display: inline-block;\\n  visibility: hidden;\\n\"])));\n  var StyledWrapper = styled__default[\"default\"].div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  @keyframes fragmentletter-\", \" {\\n    0% {\\n      opacity: 0;\\n      visibility: hidden;\\n      transform: translateX(\", \")\\n        translateY(\", \")\\n        scale(\", \");\\n    }\\n    100% {\\n      oapcity: 1;\\n      visibility: visible;\\n      transform: translateX(0) translateY(0) scale(1);\\n    }\\n  }\\n\\n  & > span {\\n    display: inline-block;\\n  }\\n\\n  & \", \" {\\n    text-decoration: inherit;\\n    vertical-align: inherit;\\n\\n    animation: \", \";\\n\\n    animation-name: \", \";\\n  }\\n\\n  \", \"\\n\"], [\"\\n  @keyframes fragmentletter-\", \" {\\n    0% {\\n      opacity: 0;\\n      visibility: hidden;\\n      transform: translateX(\", \")\\n        translateY(\", \")\\n        scale(\", \");\\n    }\\n    100% {\\n      oapcity: 1;\\n      visibility: visible;\\n      transform: translateX(0) translateY(0) scale(1);\\n    }\\n  }\\n\\n  & > span {\\n    display: inline-block;\\n  }\\n\\n  & \", \" {\\n    text-decoration: inherit;\\n    vertical-align: inherit;\\n\\n    animation: \", \";\\n\\n    animation-name: \", \";\\n  }\\n\\n  \", \"\\n\"])), function (_a) {\n    var uid = _a.uid;\n    return uid;\n  }, function (_a) {\n    var x = _a.animation.x;\n    return x !== null && x !== void 0 ? x : 0;\n  }, function (_a) {\n    var y = _a.animation.y;\n    return y !== null && y !== void 0 ? y : 0;\n  }, function (_a) {\n    var scale = _a.animation.scale;\n    return scale !== null && scale !== void 0 ? scale : 1;\n  }, AnimatedFragment, function (_a) {\n    var ease = _a.animation.ease,\n        duration = _a.duration;\n    return \"\".concat(duration, \"s \").concat(ease !== null && ease !== void 0 ? ease : 'ease-in-out', \" forwards;\");\n  }, function (_a) {\n    var shouldAnimate = _a.shouldAnimate,\n        uid = _a.uid;\n    return shouldAnimate ? \"fragmentletter-\".concat(uid) : '';\n  }, function (_a) {\n    var _b = _a.count,\n        count = _b === void 0 ? 0 : _b,\n        interval = _a.interval;\n    var styles = '';\n\n    for (var i = 0; i < count; i += 1) {\n      styles += \"\".concat(AnimatedFragment, \":nth-of-type(\").concat(i + 1, \") {\\n            animation-delay: \").concat((interval || 0.04) * i, \"s;\\n          }\");\n    }\n\n    return styled.css(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n      \", \"\\n    \"], [\"\\n      \", \"\\n    \"])), styles);\n  });\n  var templateObject_1, templateObject_2, templateObject_3;\n  var PREDEFINED_ANIMATIONS = {\n    blocks: {\n      y: '60px',\n      interval: 0.07,\n      duration: 0.7\n    },\n    wave: {\n      y: '40px',\n      interval: 0.04,\n      duration: 0.4,\n      ease: 'ease-in-out'\n    },\n    float: {\n      x: '200px',\n      ease: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)',\n      duration: 1.2,\n      interval: 0.1\n    },\n    bounce: {\n      y: '200px',\n      ease: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)'\n    },\n    \"throw\": {\n      y: '200px',\n      scale: 2,\n      interval: 0.07\n    },\n    diagonal: {\n      x: '200px',\n      y: '-200px',\n      ease: 'cubic-bezier(0.68, -4.55, 0.265, 1.55)'\n    },\n    rifle: {\n      y: '100px',\n      x: '-500px',\n      ease: 'ease-in',\n      duration: 0.3,\n      interval: 0.03\n    },\n    lights: {\n      y: '-20px',\n      ease: 'ease-out',\n      duration: 1,\n      interval: 0.4\n    }\n  };\n  var WHITE_SPACE_CODE = ' ';\n  var DEFAULT_INTERVAL = 0.04;\n  var DEFAULT_DURATION = 0.4;\n  var DEFAULT_TYPE = 'words';\n  var DEFAULT_ANIMATION = {\n    y: '-30px'\n  };\n  var DEFAULT_TAG = 'div';\n  var DEFAULT_INTESECTION_OBSERVER_ROOT_MARGIN = '20%';\n  var DEFAULT_THRESHOLD = 0;\n\n  var renderWords = function (arrayToRender, includeWhiteSpaces) {\n    return arrayToRender.map(function (fragment, index) {\n      return fragment !== WHITE_SPACE_CODE ? React__default[\"default\"].createElement(AnimatedFragment, {\n        key: index,\n        dangerouslySetInnerHTML: {\n          __html: fragment\n        }\n      }) : includeWhiteSpaces && React__default[\"default\"].createElement(AnimatedFragment, {\n        key: \"\".concat(index, \"&nbsp;\"),\n        dangerouslySetInnerHTML: {\n          __html: '&nbsp;'\n        }\n      }) || WHITE_SPACE_CODE;\n    });\n  };\n\n  var renderChars = function (arrayToRender, interval, includeWhiteSpaces) {\n    var fullIndex = -1;\n    return arrayToRender.map(function (fragment, index) {\n      var chars = fragment !== WHITE_SPACE_CODE ? Array.from(fragment) : [WHITE_SPACE_CODE];\n      if (chars[0] !== WHITE_SPACE_CODE) return React__default[\"default\"].createElement(\"span\", {\n        key: index\n      }, chars.map(function (char, charIndex) {\n        fullIndex += 1;\n        return React__default[\"default\"].createElement(AnimatedFragment, {\n          key: charIndex,\n          dangerouslySetInnerHTML: {\n            __html: char\n          },\n          style: {\n            animationDelay: \"\".concat(interval * fullIndex, \"s\")\n          }\n        });\n      }));\n      return includeWhiteSpaces ? React__default[\"default\"].createElement(AnimatedFragment, {\n        key: \"\".concat(index, \"&nbsp;\"),\n        dangerouslySetInnerHTML: {\n          __html: '&nbsp;'\n        },\n        style: {\n          animationDelay: \"\".concat(interval * fullIndex, \"s\")\n        }\n      }) : WHITE_SPACE_CODE;\n    });\n  };\n\n  var AnimatedText = function (_a) {\n    var _b, _c, _d, _e;\n\n    var _f = _a.children,\n        children = _f === void 0 ? '' : _f,\n        _g = _a.type,\n        type = _g === void 0 ? DEFAULT_TYPE : _g,\n        interval = _a.interval,\n        duration = _a.duration,\n        _h = _a.animation,\n        animation = _h === void 0 ? DEFAULT_ANIMATION : _h,\n        _j = _a.animationType,\n        animationType = _j === void 0 ? DEFAULT_TYPE : _j,\n        _k = _a.tag,\n        tag = _k === void 0 ? DEFAULT_TAG : _k,\n        _l = _a.includeWhiteSpaces,\n        includeWhiteSpaces = _l === void 0 ? false : _l,\n        rootMargin = _a.rootMargin,\n        threshold = _a.threshold,\n        props = __rest(_a, [\"children\", \"type\", \"interval\", \"duration\", \"animation\", \"animationType\", \"tag\", \"includeWhiteSpaces\", \"rootMargin\", \"threshold\"]);\n\n    var _m = React.useState([]),\n        arrayToRender = _m[0],\n        setArrayToRender = _m[1];\n\n    var _o = React.useState(false),\n        shouldAnimate = _o[0],\n        setShouldAnimate = _o[1];\n\n    var wrapperRef = React.useRef(null);\n    var animationOptions = (_b = PREDEFINED_ANIMATIONS === null || PREDEFINED_ANIMATIONS === void 0 ? void 0 : PREDEFINED_ANIMATIONS[animationType]) !== null && _b !== void 0 ? _b : animation;\n    React.useEffect(function () {\n      if (typeof children !== 'string' && typeof children !== 'number') {\n        console.error(\"Only string (ReactText) is currently allowed as react-animated-text-content component's child. Please, change to proper type.\");\n        return;\n      }\n\n      var concatedChildren = concatFragments(children);\n      setArrayToRender(concatedChildren);\n      var observer = new IntersectionObserver(function (entries, observer) {\n        entries.forEach(function (entry) {\n          if (!entry.isIntersecting) return;\n          setShouldAnimate(true);\n          if (wrapperRef.current) observer.unobserve(wrapperRef.current);\n        });\n      }, {\n        rootMargin: rootMargin || DEFAULT_INTESECTION_OBSERVER_ROOT_MARGIN,\n        threshold: threshold || DEFAULT_THRESHOLD\n      });\n\n      if (wrapperRef.current) {\n        observer.observe(wrapperRef.current);\n      }\n\n      return function () {\n        setArrayToRender([]);\n        setShouldAnimate(false);\n      };\n    }, [children, type]);\n    var uid = uuid.v4();\n    return React__default[\"default\"].createElement(StyledWrapper, __assign({\n      as: tag,\n      count: type === 'words' ? arrayToRender.length : 0,\n      interval: interval || ((_c = animationOptions === null || animationOptions === void 0 ? void 0 : animationOptions.interval) !== null && _c !== void 0 ? _c : DEFAULT_INTERVAL),\n      duration: duration || ((_d = animationOptions === null || animationOptions === void 0 ? void 0 : animationOptions.duration) !== null && _d !== void 0 ? _d : DEFAULT_DURATION),\n      ref: wrapperRef,\n      shouldAnimate: shouldAnimate,\n      uid: uid,\n      animation: animationOptions,\n      \"data-testid\": \"animated-text\"\n    }, props), type === 'words' ? renderWords(arrayToRender, includeWhiteSpaces) : renderChars(arrayToRender, interval || ((_e = animationOptions === null || animationOptions === void 0 ? void 0 : animationOptions.interval) !== null && _e !== void 0 ? _e : DEFAULT_INTERVAL), includeWhiteSpaces));\n  };\n\n  exports.WHITE_SPACE_CODE = WHITE_SPACE_CODE;\n  exports[\"default\"] = AnimatedText;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAGO;;EAAA,IAAMA,wBAAwB,GAAG,UAACC,QAAD,EAAoB;IAC1D,eAAQ,CAACC,QAAT,GAAoBC,KAApB,CAA0B,GAA1B;EAA8B,CADzB;;EAGA,IAAMC,eAAe,GAAG,UAACH,QAAD,EAAoB;;;IACjD,IAAMI,gBAAgB,GAAGL,wBAAwB,CAACC,QAAD,CAAjD;IAEA,OAAO,MAAC,EAAD,EACJK,MADI,CACEC,KADF,CACEC,EADF,EAEAH,gBAAgB,CAACI,GAAjB,CAAqB,UAACC,IAAD,EAAOC,KAAP,EAAY;MAClC,YAAK,KAAK,CAAV,GAAc,CAACC,gBAAD,EAAmBF,IAAnB,CAAd,GAAyC,CAACA,IAAD,CAAzC;IAA+C,CAD9C,CAFA,EAMJD,GANI,CAMA,UAACC,IAAD,EAAK;MAAK,OAACA,IAAI,KAAK,GAAT,GAAeE,gBAAf,GAAkCF,IAAnC;IAAwC,CANlD,CAAP;EAOD,CAVM;;ECHA,IAAMG,gBAAgB,GAAGC,2BAAOC,IAAPD,CAAWE,8IAGzC,4EAHyC,GAAXF,CAAzB;EASA,IAAMG,aAAa,GAAGH,2BAAOI,GAAPJ,CAAUK,2jBAOrC,gCAPqC,EAQO,0FARP,EAYuB,wBAZvB,EAac,mBAbd,EAciB,mMAdjB,EA2BjB,oFA3BiB,EAgCgB,2BAhChB,EAmCW,cAnCX,EAkDpC,IAlDoC,GAAVL,EAQC,UAACN,EAAD,EAAQ;QAALY,GAAG;IAAO;EAAG,CARjBN,EAYC,UAACN,EAAD,EAAqB;QAALa,CAAC;IAAS,QAAC,SAAD,KAAC,WAAD,OAAK,CAAL;EAAM,CAZjCP,EAaR,UAACN,EAAD,EAAqB;QAALc,CAAC;IAAS,QAAC,SAAD,KAAC,WAAD,OAAK,CAAL;EAAM,CAbxBR,EAcb,UAACN,EAAD,EAAyB;QAATe,KAAK;IAAS,YAAK,SAAL,SAAK,WAAL,WAAS,CAAT;EAAU,CAd3BT,EA2BvBD,gBA3BuBC,EA+BZ,UAACN,EAAD,EAAkC;QAAlBgB,IAAI;QAAIC,QAAQ;IAC3C,iBAAGA,QAAH,EAAW,IAAX,EAAWnB,MAAX,CAAgBkB,IAAI,SAAJ,QAAI,WAAJ,UAAQ,aAAxB,EAAqC,YAArC;EAAiD,CAhC1BV,EAkCP,UAACN,EAAD,EAAuB;QAApBkB,aAAa;QAAEN,GAAG;IACrC,oBAAa,GAAG,yBAAkBA,GAAlB,CAAH,GAA6B,EAA1C;EAA4C,CAnCrBN,EAsCzB,UAACN,EAAD,EAAwB;QAArBmB;QAAAC,KAAK,mBAAG,CAAH,GAAID;QAAEE,QAAQ;IACtB,IAAIC,MAAM,GAAG,EAAb;;IAEA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,KAApB,EAA2BG,CAAC,IAAI,CAAhC,EAAmC;MACjCD,MAAM,IAAI,UAAGjB,gBAAH,EAAmB,eAAnB,EAAmBP,MAAnB,CAAmCyB,CAAC,GAAG,CAAvC,EAAwC,oCAAxC,EAAwCzB,MAAxC,CACe,CAACuB,QAAQ,IAAI,IAAb,IAAqBE,CADpC,EACqC,iBADrC,CAAV;IAGD;;IAED,OAAOC,WAAGC,kGACA,QADA,GAAHD,EACHF,MADGE,CAAP;EAGD,CAlD0BlB,CAAtB;;ECyCP,IAAMoB,qBAAqB,GACzB;IACEC,MAAM,EAAE;MACNb,CAAC,EAAE,MADG;MAENO,QAAQ,EAAE,IAFJ;MAGNJ,QAAQ,EAAE;IAHJ,CADV;IAMEW,IAAI,EAAE;MACJd,CAAC,EAAE,MADC;MAEJO,QAAQ,EAAE,IAFN;MAGJJ,QAAQ,EAAE,GAHN;MAIJD,IAAI,EAAE;IAJF,CANR;IAYEa,KAAK,EAAE;MACLhB,CAAC,EAAE,OADE;MAELG,IAAI,EAAE,wCAFD;MAGLC,QAAQ,EAAE,GAHL;MAILI,QAAQ,EAAE;IAJL,CAZT;IAkBES,MAAM,EAAE;MAAEhB,CAAC,EAAE,OAAL;MAAcE,IAAI,EAAE;IAApB,CAlBV;IAmBE,SAAO;MACLF,CAAC,EAAE,OADE;MAELC,KAAK,EAAE,CAFF;MAGLM,QAAQ,EAAE;IAHL,CAnBT;IAwBEU,QAAQ,EAAE;MACRlB,CAAC,EAAE,OADK;MAERC,CAAC,EAAE,QAFK;MAGRE,IAAI,EAAE;IAHE,CAxBZ;IA6BEgB,KAAK,EAAE;MACLlB,CAAC,EAAE,OADE;MAELD,CAAC,EAAE,QAFE;MAGLG,IAAI,EAAE,SAHD;MAILC,QAAQ,EAAE,GAJL;MAKLI,QAAQ,EAAE;IALL,CA7BT;IAoCEY,MAAM,EAAE;MACNnB,CAAC,EAAE,OADG;MAENE,IAAI,EAAE,UAFA;MAGNC,QAAQ,EAAE,CAHJ;MAINI,QAAQ,EAAE;IAJJ;EApCV,CADF;MA6CajB,gBAAgB,GAAG;EAChC,IAAM8B,gBAAgB,GAAG,IAAzB;EACA,IAAMC,gBAAgB,GAAG,GAAzB;EACA,IAAMC,YAAY,GAAG,OAArB;EACA,IAAMC,iBAAiB,GAAG;IACxBvB,CAAC,EAAE;EADqB,CAA1B;EAGA,IAAMwB,WAAW,GAAG,KAApB;EACA,IAAMC,wCAAwC,GAAG,KAAjD;EACA,IAAMC,iBAAiB,GAAG,CAA1B;;EAEA,IAAMC,WAAW,GAAG,UAClBC,aADkB,EAElBC,kBAFkB,EAES;IAE3B,oBAAa,CAAC1C,GAAd,CAAkB,UAAC2C,QAAD,EAAWzC,KAAX,EAAgB;MAChC,eAAQ,KAAKC,gBAAb,GACEyC,wCAACxC,gBAADwC,EAAiB;QACfC,GAAG,EAAE3C,KADU;QAEf4C,uBAAuB,EAAE;UAAEC,MAAM,EAAEJ;QAAV;MAFV,CAAjBC,CADF,GAMGF,kBAAkB,IACjBE,wCAACxC,gBAADwC,EAAiB;QACfC,GAAG,EAAE,UAAG3C,KAAH,EAAQ,QAAR,CADU;QAEf4C,uBAAuB,EAAE;UAAEC,MAAM,EAAE;QAAV;MAFV,CAAjBH,CADF,IAMAzC,gBAZF;IAaC,CAdH;EAeC,CAnBH;;EAqBA,IAAM6C,WAAW,GAAG,UAClBP,aADkB,EAElBrB,QAFkB,EAGlBsB,kBAHkB,EAGS;IAE3B,IAAIO,SAAS,GAAG,CAAC,CAAjB;IAEA,OAAOR,aAAa,CAACzC,GAAd,CAAkB,UAAC2C,QAAD,EAAWzC,KAAX,EAAgB;MACvC,IAAMgD,KAAK,GACTP,QAAQ,KAAKxC,gBAAb,GAAgCgD,KAAK,CAACC,IAAN,CAAWT,QAAX,CAAhC,GAAuD,CAACxC,gBAAD,CADzD;MAGA,IAAI+C,KAAK,CAAC,CAAD,CAAL,KAAa/C,gBAAjB,EACE,OACEyC;QAAMC,GAAG,EAAE3C;MAAX0C,GACGM,KAAK,CAAClD,GAAN,CAAU,UAACqD,IAAD,EAAOC,SAAP,EAAgB;QACzBL,SAAS,IAAI,CAAb;QAEA,OACEL,wCAACxC,gBAADwC,EAAiB;UACfC,GAAG,EAAES,SADU;UAEfR,uBAAuB,EAAE;YAAEC,MAAM,EAAEM;UAAV,CAFV;UAGfE,KAAK,EAAE;YAAEC,cAAc,EAAE,UAAGpC,QAAQ,GAAG6B,SAAd,EAAuB,GAAvB;UAAlB;QAHQ,CAAjBL,CADF;MAOD,CAVA,CADHA,CADF;MAgBF,OAAOF,kBAAkB,GACvBE,wCAACxC,gBAADwC,EAAiB;QACfC,GAAG,EAAE,UAAG3C,KAAH,EAAQ,QAAR,CADU;QAEf4C,uBAAuB,EAAE;UAAEC,MAAM,EAAE;QAAV,CAFV;QAGfQ,KAAK,EAAE;UAAEC,cAAc,EAAE,UAAGpC,QAAQ,GAAG6B,SAAd,EAAuB,GAAvB;QAAlB;MAHQ,CAAjBL,CADuB,GAOvBzC,gBAPF;IASD,CA9BM,CAAP;EA+BD,CAtCD;;MAwCMsD,YAAY,GAA0B,UAAC1D,EAAD,EAY3C;;;IAXC;IAAA,YAAQ,mBAAG,EAAH,GAAK2D,EAAb;IAAA,IACAC,YADA;IAAA,IACAC,IAAI,mBAAGzB,YAAH,GAAewB,EADnB;IAAA,IAEAvC,QAAQ,cAFR;IAAA,IAGAJ,QAAQ,cAHR;IAAA,IAIA6C,iBAJA;IAAA,IAIAC,SAAS,mBAAG1B,iBAAH,GAAoByB,EAJ7B;IAAA,IAKAE,qBALA;IAAA,IAKAC,aAAa,mBAAG7B,YAAH,GAAe4B,EAL5B;IAAA,IAMAE,WANA;IAAA,IAMAC,GAAG,mBAAG7B,WAAH,GAAc4B,EANjB;IAAA,IAOAE,0BAPA;IAAA,IAOAzB,kBAAkB,mBAAG,KAAH,GAAQyB,EAP1B;IAAA,IAQAC,UAAU,gBARV;IAAA,IASAC,SAAS,eATT;IAAA,IAUGC,KAAK,cAXmC,kIAWnC,CAVR;;IAYM,SAAoCC,eAAmB,EAAnBA,CAApC;IAAA,IAAC9B,aAAa,QAAd;IAAA,IAAgB+B,gBAAgB,QAAhC;;IACA,SAAoCD,eAAS,KAATA,CAApC;IAAA,IAACtD,aAAa,QAAd;IAAA,IAAgBwD,gBAAgB,QAAhC;;IACN,IAAMC,UAAU,GAAGC,aAAO,IAAPA,CAAnB;IAEA,IAAMC,gBAAgB,GAAG,2BAAqB,SAArB,yBAAqB,WAArB,GAAqB,MAArB,wBAAqB,CAAGZ,aAAH,CAArB,MAAsC,IAAtC,IAAsC9C,aAAtC,GAAsCA,EAAtC,GAA0C4C,SAAnE;IAEAe,gBAAU;MACR,IAAI,OAAOrF,QAAP,KAAoB,QAApB,IAAgC,OAAOA,QAAP,KAAoB,QAAxD,EAAkE;QAChEsF,OAAO,CAACC,KAAR,CACE,+HADF;QAGA;MACD;;MAED,IAAMC,gBAAgB,GAAGrF,eAAe,CAACH,QAAD,CAAxC;MACAgF,gBAAgB,CAACQ,gBAAD,CAAhB;MAEA,IAAMC,QAAQ,GAAG,IAAIC,oBAAJ,CACf,UAACC,OAAD,EAAUF,QAAV,EAAkB;QAChBE,OAAO,CAACC,OAAR,CAAgB,UAACC,KAAD,EAAM;UACpB,IAAI,CAACA,KAAK,CAACC,cAAX,EAA2B;UAE3Bb,gBAAgB,CAAC,IAAD,CAAhB;UACA,IAAIC,UAAU,CAACa,OAAf,EAAwBN,QAAQ,CAACO,SAAT,CAAmBd,UAAU,CAACa,OAA9B;QACzB,CALD;MAMD,CARc,EASf;QACEnB,UAAU,EAAEA,UAAU,IAAI9B,wCAD5B;QAEE+B,SAAS,EAAEA,SAAS,IAAI9B;MAF1B,CATe,CAAjB;;MAeA,IAAImC,UAAU,CAACa,OAAf,EAAwB;QACtBN,QAAQ,CAACQ,OAAT,CAAiBf,UAAU,CAACa,OAA5B;MACD;;MAED,OAAO;QACLf,gBAAgB,CAAC,EAAD,CAAhB;QACAC,gBAAgB,CAAC,KAAD,CAAhB;MACD,CAHD;IAID,CAlCDI,EAkCG,CAACrF,QAAD,EAAWoE,IAAX,CAlCHiB;IAoCA,IAAMlE,GAAG,GAAG+E,SAAZ;IAEA,OACE9C,wCAACpC,aAADoC,EAAc+C;MACZC,EAAE,EAAE1B,GADQ;MAEZ/C,KAAK,EAAEyC,IAAI,KAAK,OAAT,GAAmBnB,aAAa,CAACoD,MAAjC,GAA0C,CAFrC;MAGZzE,QAAQ,EAAEA,QAAQ,KAAK,sBAAgB,SAAhB,oBAAgB,WAAhB,GAAgB,MAAhB,mBAAgB,CAAEA,QAAlB,MAA0B,IAA1B,IAA0B0E,aAA1B,GAA0BA,EAA1B,GAA8B7D,gBAAnC,CAHN;MAIZjB,QAAQ,EAAEA,QAAQ,KAAK,sBAAgB,SAAhB,oBAAgB,WAAhB,GAAgB,MAAhB,mBAAgB,CAAEA,QAAlB,MAA0B,IAA1B,IAA0B+E,aAA1B,GAA0BA,EAA1B,GAA8B7D,gBAAnC,CAJN;MAKZ8D,GAAG,EAAEtB,UALO;MAMZzD,aAAa,EAAEA,aANH;MAOZN,GAAG,EAAEA,GAPO;MAQZmD,SAAS,EAAEc,gBARC;MAQe,eACf;IATA,GAURN,KAVQ,CAAd1B,EAYGgB,IAAI,KAAK,OAAT,GACGpB,WAAW,CAACC,aAAD,EAAgBC,kBAAhB,CADd,GAEGM,WAAW,CACTP,aADS,EAETrB,QAAQ,KAAK,sBAAgB,SAAhB,oBAAgB,WAAhB,GAAgB,MAAhB,mBAAgB,CAAEA,QAAlB,MAA0B,IAA1B,IAA0B6E,aAA1B,GAA0BA,EAA1B,GAA8BhE,gBAAnC,CAFC,EAGTS,kBAHS,CAdjBE,CADF;EAsBF;;EAAAsD;EAAAA;EAAAC;IAAAC;EAAA;AAAA","names":["splitChildrenToFragments","children","toString","split","concatFragments","splittedChildren","concat","apply","_a","map","word","index","WHITE_SPACE_CODE","AnimatedFragment","styled","span","templateObject_1","StyledWrapper","div","templateObject_3","uid","x","y","scale","ease","duration","shouldAnimate","_b","count","interval","styles","i","css","templateObject_2","PREDEFINED_ANIMATIONS","blocks","wave","float","bounce","diagonal","rifle","lights","DEFAULT_INTERVAL","DEFAULT_DURATION","DEFAULT_TYPE","DEFAULT_ANIMATION","DEFAULT_TAG","DEFAULT_INTESECTION_OBSERVER_ROOT_MARGIN","DEFAULT_THRESHOLD","renderWords","arrayToRender","includeWhiteSpaces","fragment","React","key","dangerouslySetInnerHTML","__html","renderChars","fullIndex","chars","Array","from","char","charIndex","style","animationDelay","AnimatedText","_f","_g","type","_h","animation","_j","animationType","_k","tag","_l","rootMargin","threshold","props","useState","setArrayToRender","setShouldAnimate","wrapperRef","useRef","animationOptions","useEffect","console","error","concatedChildren","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","current","unobserve","observe","uuidv4","__assign","as","length","_c","_d","ref","_e","exports","Object","value"],"sources":["C:\\Users\\Dell\\Documents\\vidly\\node_modules\\react-animated-text-content\\src\\helpers.ts","C:\\Users\\Dell\\Documents\\vidly\\node_modules\\react-animated-text-content\\src\\styles\\AnimatedFragment.styled.ts","C:\\Users\\Dell\\Documents\\vidly\\node_modules\\react-animated-text-content\\src\\index.tsx"],"sourcesContent":["import { ReactText } from 'react';\nimport { WHITE_SPACE_CODE } from '.';\n\nexport const splitChildrenToFragments = (children: ReactText) =>\n  children.toString().split(' ');\n\nexport const concatFragments = (children: ReactText) => {\n  const splittedChildren = splitChildrenToFragments(children);\n\n  return ([] as string[])\n    .concat(\n      ...splittedChildren.map((word, index) =>\n        index !== 0 ? [WHITE_SPACE_CODE, word] : [word]\n      )\n    )\n    .map((word) => (word === ' ' ? WHITE_SPACE_CODE : word));\n};\n","import styled, { css } from 'styled-components';\nimport { AnimationShapeType } from '..';\n\nexport const AnimatedFragment = styled.span<{\n  count?: number;\n  interval?: number;\n}>`\n  position: relative;\n  display: inline-block;\n  visibility: hidden;\n`;\n\nexport const StyledWrapper = styled.div<{\n  uid: string;\n  count: number;\n  interval: number;\n  duration: number;\n  shouldAnimate: boolean;\n  animation: AnimationShapeType;\n}>`\n  @keyframes fragmentletter-${({ uid }) => uid} {\n    0% {\n      opacity: 0;\n      visibility: hidden;\n      transform: translateX(${({ animation: { x } }) => x ?? 0})\n        translateY(${({ animation: { y } }) => y ?? 0})\n        scale(${({ animation: { scale } }) => scale ?? 1});\n    }\n    100% {\n      oapcity: 1;\n      visibility: visible;\n      transform: translateX(0) translateY(0) scale(1);\n    }\n  }\n\n  & > span {\n    display: inline-block;\n  }\n\n  & ${AnimatedFragment} {\n    text-decoration: inherit;\n    vertical-align: inherit;\n\n    animation: ${({ animation: { ease }, duration }) =>\n      `${duration}s ${ease ?? 'ease-in-out'} forwards;`};\n\n    animation-name: ${({ shouldAnimate, uid }) =>\n      shouldAnimate ? `fragmentletter-${uid}` : ''};\n  }\n\n  ${({ count = 0, interval }) => {\n    let styles = '';\n\n    for (let i = 0; i < count; i += 1) {\n      styles += `${AnimatedFragment}:nth-of-type(${i + 1}) {\n            animation-delay: ${(interval || 0.04) * i}s;\n          }`;\n    }\n\n    return css`\n      ${styles}\n    `;\n  }}\n`;\n","import React, {\n  ElementType,\n  ReactText,\n  useEffect,\n  useState,\n  useRef,\n  FC,\n  ReactNode,\n} from 'react';\n\nimport { v4 as uuidv4 } from 'uuid';\nimport { concatFragments } from './helpers';\nimport {\n  AnimatedFragment,\n  StyledWrapper,\n} from './styles/AnimatedFragment.styled';\n\nexport interface AnimationShapeType {\n  x?: string;\n  y?: string;\n  scale?: number;\n  ease?: string;\n}\n\ntype AnimationType =\n  | 'blocks'\n  | 'wave'\n  | 'float'\n  | 'bounce'\n  | 'throw'\n  | 'diagonal'\n  | 'rifle'\n  | 'lights';\n\ninterface AnimatedTextProps {\n  type?: 'chars' | 'words';\n  children?: ReactText;\n  interval?: number;\n  duration?: number;\n  animation?: AnimationShapeType;\n  animationType?: AnimationType;\n  tag?: ElementType;\n  className?: string;\n  includeWhiteSpaces?: boolean;\n  threshold?: number;\n  rootMargin?: string;\n}\n\ninterface ExtendedAnimationShapeType extends AnimationShapeType {\n  duration?: number;\n  interval?: number;\n}\n\nconst PREDEFINED_ANIMATIONS: Record<AnimationType, ExtendedAnimationShapeType> =\n  {\n    blocks: {\n      y: '60px',\n      interval: 0.07,\n      duration: 0.7,\n    },\n    wave: {\n      y: '40px',\n      interval: 0.04,\n      duration: 0.4,\n      ease: 'ease-in-out',\n    },\n    float: {\n      x: '200px',\n      ease: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)',\n      duration: 1.2,\n      interval: 0.1,\n    },\n    bounce: { y: '200px', ease: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)' },\n    throw: {\n      y: '200px',\n      scale: 2,\n      interval: 0.07,\n    },\n    diagonal: {\n      x: '200px',\n      y: '-200px',\n      ease: 'cubic-bezier(0.68, -4.55, 0.265, 1.55)',\n    },\n    rifle: {\n      y: '100px',\n      x: '-500px',\n      ease: 'ease-in',\n      duration: 0.3,\n      interval: 0.03,\n    },\n    lights: {\n      y: '-20px',\n      ease: 'ease-out',\n      duration: 1,\n      interval: 0.4,\n    },\n  };\n\nexport const WHITE_SPACE_CODE = ' ';\nconst DEFAULT_INTERVAL = 0.04;\nconst DEFAULT_DURATION = 0.4;\nconst DEFAULT_TYPE = 'words';\nconst DEFAULT_ANIMATION = {\n  y: '-30px',\n};\nconst DEFAULT_TAG = 'div';\nconst DEFAULT_INTESECTION_OBSERVER_ROOT_MARGIN = '20%';\nconst DEFAULT_THRESHOLD = 0;\n\nconst renderWords = (\n  arrayToRender: string[],\n  includeWhiteSpaces: boolean\n): ReactNode =>\n  arrayToRender.map((fragment, index) =>\n    fragment !== WHITE_SPACE_CODE ? (\n      <AnimatedFragment\n        key={index}\n        dangerouslySetInnerHTML={{ __html: fragment }}\n      />\n    ) : (\n      (includeWhiteSpaces && (\n        <AnimatedFragment\n          key={`${index}&nbsp;`}\n          dangerouslySetInnerHTML={{ __html: '&nbsp;' }}\n        />\n      )) ||\n      WHITE_SPACE_CODE\n    )\n  );\n\nconst renderChars = (\n  arrayToRender: string[],\n  interval: number,\n  includeWhiteSpaces: boolean\n): ReactNode => {\n  let fullIndex = -1;\n\n  return arrayToRender.map((fragment, index) => {\n    const chars =\n      fragment !== WHITE_SPACE_CODE ? Array.from(fragment) : [WHITE_SPACE_CODE];\n\n    if (chars[0] !== WHITE_SPACE_CODE)\n      return (\n        <span key={index}>\n          {chars.map((char, charIndex) => {\n            fullIndex += 1;\n\n            return (\n              <AnimatedFragment\n                key={charIndex}\n                dangerouslySetInnerHTML={{ __html: char }}\n                style={{ animationDelay: `${interval * fullIndex}s` }}\n              />\n            );\n          })}\n        </span>\n      );\n\n    return includeWhiteSpaces ? (\n      <AnimatedFragment\n        key={`${index}&nbsp;`}\n        dangerouslySetInnerHTML={{ __html: '&nbsp;' }}\n        style={{ animationDelay: `${interval * fullIndex}s` }}\n      />\n    ) : (\n      WHITE_SPACE_CODE\n    );\n  });\n};\n\nconst AnimatedText: FC<AnimatedTextProps> = ({\n  children = '',\n  type = DEFAULT_TYPE,\n  interval,\n  duration,\n  animation = DEFAULT_ANIMATION,\n  animationType = DEFAULT_TYPE,\n  tag = DEFAULT_TAG,\n  includeWhiteSpaces = false,\n  rootMargin,\n  threshold,\n  ...props\n}) => {\n  const [arrayToRender, setArrayToRender] = useState<string[]>([]);\n  const [shouldAnimate, setShouldAnimate] = useState(false);\n  const wrapperRef = useRef(null);\n\n  const animationOptions = PREDEFINED_ANIMATIONS?.[animationType] ?? animation;\n\n  useEffect(() => {\n    if (typeof children !== 'string' && typeof children !== 'number') {\n      console.error(\n        \"Only string (ReactText) is currently allowed as react-animated-text-content component's child. Please, change to proper type.\"\n      );\n      return;\n    }\n\n    const concatedChildren = concatFragments(children);\n    setArrayToRender(concatedChildren);\n\n    const observer = new IntersectionObserver(\n      (entries, observer) => {\n        entries.forEach((entry) => {\n          if (!entry.isIntersecting) return;\n\n          setShouldAnimate(true);\n          if (wrapperRef.current) observer.unobserve(wrapperRef.current);\n        });\n      },\n      {\n        rootMargin: rootMargin || DEFAULT_INTESECTION_OBSERVER_ROOT_MARGIN,\n        threshold: threshold || DEFAULT_THRESHOLD,\n      }\n    );\n\n    if (wrapperRef.current) {\n      observer.observe(wrapperRef.current);\n    }\n\n    return () => {\n      setArrayToRender([]);\n      setShouldAnimate(false);\n    };\n  }, [children, type]);\n\n  const uid = uuidv4();\n\n  return (\n    <StyledWrapper\n      as={tag}\n      count={type === 'words' ? arrayToRender.length : 0}\n      interval={interval || (animationOptions?.interval ?? DEFAULT_INTERVAL)}\n      duration={duration || (animationOptions?.duration ?? DEFAULT_DURATION)}\n      ref={wrapperRef}\n      shouldAnimate={shouldAnimate}\n      uid={uid}\n      animation={animationOptions}\n      data-testid=\"animated-text\"\n      {...props}\n    >\n      {type === 'words'\n        ? renderWords(arrayToRender, includeWhiteSpaces)\n        : renderChars(\n            arrayToRender,\n            interval || (animationOptions?.interval ?? DEFAULT_INTERVAL),\n            includeWhiteSpaces\n          )}\n    </StyledWrapper>\n  );\n};\n\nexport default AnimatedText;\n"]},"metadata":{},"sourceType":"script"}